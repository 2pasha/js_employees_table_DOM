{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","headers","tHead","querySelectorAll","rows","tBodies","currentSortColumn","isASC","sortTable","column","sortedASC","rowsToSort","Array","from","sort","a","b","aValue","cells","cellIndex","textContent","bValue","aNumber","convertToNumber","bNumber","localeCompare","append","number","parseFloat","replace","forEach","header","index","addEventListener","row","everyRow","classList","remove","add","formToAddRow","createElement","createForm","form","body","appendChild","nameLabel","nameInput","type","name","setAttribute","positionLabel","positionInput","selectValues","officeLabel","officeSelect","value","option","text","ageLabel","ageInput","salaryLabel","salaryInput","button","convertToDollars","parseInt","toLocaleString","style","currency","split","formValidation","checkForm","ageValid","elements","age","nameValid","areFieldNotEmpty","pushNotification","length","inputs","isNotEmpty","input","trim","e","preventDefault","target","newRow","insertRow","nameCell","insertCell","positinCell","officeCell","ageCell","salatyCell","innerHTML","position","office","salary","reset","posTop","posRight","title","description","message","top","right","messageTitle","innerText","messageDesc","setTimeout"],"mappings":"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","file":"main.591b81a3.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst table = document.querySelector('table');\r\nconst headers = table.tHead.querySelectorAll('th');\r\nconst rows = table.tBodies[0].querySelectorAll('tr');\r\n\r\nlet currentSortColumn = null;\r\nlet isASC = true;\r\n\r\n// sort section\r\nheaders.forEach((header, index) => {\r\n  header.addEventListener('click', () => {\r\n    if (index === currentSortColumn) {\r\n      isASC = !isASC;\r\n    } else {\r\n      currentSortColumn = index;\r\n      isASC = true;\r\n    }\r\n\r\n    sortTable(header, isASC);\r\n  });\r\n});\r\n\r\nfunction sortTable(column, sortedASC) {\r\n  const rowsToSort = Array.from(table.tBodies[0].querySelectorAll('tr'));\r\n\r\n  rowsToSort.sort((a, b) => {\r\n    const aValue = a.cells[column.cellIndex].textContent;\r\n    const bValue = b.cells[column.cellIndex].textContent;\r\n    const aNumber = convertToNumber(aValue);\r\n    const bNumber = convertToNumber(bValue);\r\n\r\n    if (!aNumber) {\r\n      return sortedASC\r\n        ? aValue.localeCompare(bValue)\r\n        : bValue.localeCompare(aValue);\r\n    }\r\n\r\n    return sortedASC\r\n      ? aNumber - bNumber\r\n      : bNumber - aNumber;\r\n  });\r\n\r\n  table.tBodies[0].append(...rowsToSort);\r\n}\r\n\r\nfunction convertToNumber(number) {\r\n  return parseFloat(number.replace(/[$,]/g, ''));\r\n}\r\n\r\n// select the row section\r\nrows.forEach(row => {\r\n  row.addEventListener('click', () => {\r\n    rows.forEach(everyRow => {\r\n      everyRow.classList.remove('active');\r\n    });\r\n\r\n    row.classList.add('active');\r\n  });\r\n});\r\n\r\n// create the form to add empoyees\r\nconst formToAddRow = document.createElement('form');\r\n\r\ncreateForm(formToAddRow);\r\n\r\nfunction createForm(form) {\r\n  document.body.appendChild(form);\r\n  form.classList = 'new-employee-form';\r\n\r\n  const nameLabel = document.createElement('label');\r\n  const nameInput = document.createElement('input');\r\n\r\n  nameLabel.textContent = 'Name:';\r\n  nameInput.type = 'text';\r\n  nameInput.name = 'name';\r\n  nameInput.setAttribute('data-qa', 'name');\r\n  nameLabel.append(nameInput);\r\n\r\n  const positionLabel = document.createElement('label');\r\n  const positionInput = document.createElement('input');\r\n\r\n  positionLabel.textContent = 'Position:';\r\n  positionInput.type = 'text';\r\n  positionInput.name = 'position';\r\n  positionInput.setAttribute('data-qa', 'position');\r\n  positionLabel.append(positionInput);\r\n\r\n  const officeLabel = document.createElement('label');\r\n  const officeSelect = document.createElement('select');\r\n  const selectValues = [\r\n    'Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco',\r\n  ];\r\n\r\n  for (const value of selectValues) {\r\n    const option = document.createElement('option');\r\n\r\n    option.value = value;\r\n    option.text = value;\r\n    officeSelect.appendChild(option);\r\n  }\r\n\r\n  officeSelect.name = 'office';\r\n  officeSelect.setAttribute('data-qa', 'office');\r\n  officeLabel.textContent = 'Office:';\r\n  officeLabel.append(officeSelect);\r\n\r\n  const ageLabel = document.createElement('label');\r\n  const ageInput = document.createElement('input');\r\n\r\n  ageLabel.textContent = 'Age:';\r\n  ageInput.type = 'number';\r\n  ageInput.name = 'age';\r\n  ageInput.setAttribute('data-qa', 'age');\r\n  ageLabel.append(ageInput);\r\n\r\n  const salaryLabel = document.createElement('label');\r\n  const salaryInput = document.createElement('input');\r\n\r\n  salaryLabel.textContent = 'Salary:';\r\n  salaryInput.type = 'number';\r\n  salaryInput.name = 'salary';\r\n  salaryInput.setAttribute('data-qa', 'salary');\r\n  salaryLabel.append(salaryInput);\r\n\r\n  const button = document.createElement('button');\r\n\r\n  button.type = 'submit';\r\n  button.name = 'button';\r\n  button.textContent = 'Save to table';\r\n\r\n  form.append(nameLabel);\r\n  form.append(positionLabel);\r\n  form.append(officeLabel);\r\n  form.append(ageLabel);\r\n  form.append(salaryLabel);\r\n  form.append(button);\r\n}\r\n\r\n// add the new row in table\r\nformToAddRow.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  // console.log(e.target.elements);\r\n\r\n  if (formValidation(e.target)) {\r\n    const newRow = table.tBodies[0].insertRow();\r\n    const nameCell = newRow.insertCell();\r\n    const positinCell = newRow.insertCell();\r\n    const officeCell = newRow.insertCell();\r\n    const ageCell = newRow.insertCell();\r\n    const salatyCell = newRow.insertCell();\r\n\r\n    nameCell.innerHTML = e.target.elements.name.value;\r\n    positinCell.innerHTML = e.target.elements.position.value;\r\n    officeCell.innerHTML = e.target.elements.office.value;\r\n    ageCell.innerHTML = e.target.elements.age.value;\r\n    salatyCell.innerHTML = convertToDollars(e.target.elements.salary.value);\r\n\r\n    formToAddRow.reset();\r\n  }\r\n});\r\n\r\nfunction convertToDollars(number) {\r\n  return parseInt(number).toLocaleString('en-US', {\r\n    style: 'currency', currency: 'USD',\r\n  }).split('.')[0];\r\n}\r\n\r\n// form data validation\r\nfunction formValidation(checkForm) {\r\n  const ageValid = parseInt(checkForm.elements.age.value);\r\n  const minAge = 18;\r\n  const maxAge = 90;\r\n  const nameValid = checkForm.elements.name.value;\r\n  const minNameLength = 4;\r\n\r\n  if (areFieldNotEmpty(checkForm.querySelectorAll('input')) === false) {\r\n    pushNotification(\r\n      10, 10, 'No empty fields',\r\n      'All fields must be filled', 'error'\r\n    );\r\n\r\n    return false;\r\n  }\r\n\r\n  if (ageValid < minAge || ageValid > maxAge) {\r\n    pushNotification(\r\n      10, 10, 'Incorect age',\r\n      'Age should be more than 18 and less then 90', 'error'\r\n    );\r\n\r\n    return false;\r\n  }\r\n\r\n  if (nameValid.length < minNameLength) {\r\n    pushNotification(\r\n      10, 10, 'Incorect name', 'Name should contain at least 4 symbols', 'error'\r\n    );\r\n\r\n    return false;\r\n  }\r\n\r\n  pushNotification(\r\n    10, 10, 'Employee added',\r\n    'Employee was successfully added to the table', 'success'\r\n  );\r\n\r\n  return true;\r\n}\r\n\r\nfunction areFieldNotEmpty(inputs) {\r\n  let isNotEmpty = true;\r\n\r\n  inputs.forEach(input => {\r\n    if (input.value.trim() === '') {\r\n      isNotEmpty = false;\r\n    }\r\n  });\r\n\r\n  return isNotEmpty;\r\n}\r\n\r\n// notifications constructor\r\nconst pushNotification = (posTop, posRight, title, description, type) => {\r\n  const body = document.querySelector('body');\r\n  const message = document.createElement('div');\r\n\r\n  body.appendChild(message);\r\n\r\n  message.classList = `notification ${type}`;\r\n  message.setAttribute('data-qa', 'notification');\r\n  message.style.top = `${posTop}px`;\r\n  message.style.right = `${posRight}px`;\r\n\r\n  const messageTitle = document.createElement('h2');\r\n\r\n  message.appendChild(messageTitle);\r\n  messageTitle.classList = 'title';\r\n  messageTitle.innerText = title;\r\n\r\n  const messageDesc = document.createElement('p');\r\n\r\n  message.appendChild(messageDesc);\r\n  messageDesc.innerText = description;\r\n\r\n  setTimeout(() => {\r\n    message.remove();\r\n  }, 2000);\r\n};\r\n"]}